<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Blog for Data Visualization Module: DataViz Makeover 3</title>

<meta property="description" itemprop="description" content="South East Asia Armed Conflict Anaylsis"/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-03-20"/>
<meta property="article:created" itemprop="dateCreated" content="2021-03-20"/>
<meta name="article:author" content="Tan Huiyong"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Blog for Data Visualization Module: DataViz Makeover 3"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="South East Asia Armed Conflict Anaylsis"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Blog for Data Visualization Module"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="Blog for Data Visualization Module: DataViz Makeover 3"/>
<meta property="twitter:description" content="South East Asia Armed Conflict Anaylsis"/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["DataViz Makeover 3"]},{"type":"character","attributes":{},"value":["South East Asia Armed Conflict Anaylsis"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Tan Huiyong"]},{"type":"character","attributes":{},"value":["https://sg.linkedin.com/in/tan-huiyong-72a1224b"]}]}]},{"type":"character","attributes":{},"value":["03-20-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["DataViz2_files/anchor-4.2.2/anchor.min.js","DataViz2_files/bowser-1.9.3/bowser.min.js","DataViz2_files/distill-2.2.21/template.v2.js","DataViz2_files/jquery-1.11.3/jquery.min.js","DataViz2_files/webcomponents-2.0.0/webcomponents.js","DataViz3_files/anchor-4.2.2/anchor.min.js","DataViz3_files/bowser-1.9.3/bowser.min.js","DataViz3_files/distill-2.2.21/template.v2.js","DataViz3_files/header-attrs-2.6/header-attrs.js","DataViz3_files/jquery-1.11.3/jquery.min.js","DataViz3_files/webcomponents-2.0.0/webcomponents.js","DataViz3_Images/Alternate.jpg","DataViz3_Images/Alternate1.jpg","DataViz3_Images/Critique.jpg","DataViz3_Images/Critique_2.jpg","DataViz3_Images/Critique_3.jpg","DataViz3_Images/Critique_4.jpg","DataViz3_Images/ob1.jpg","DataViz3_Images/ob2.jpg","DataViz3_Images/step1_a.jpg","DataViz3_Images/step1_b.jpg","DataViz3_Images/step10.jpg","DataViz3_Images/step11.jpg","DataViz3_Images/step12.jpg","DataViz3_Images/step13.jpg","DataViz3_Images/step14.jpg","DataViz3_Images/step15.jpg","DataViz3_Images/step16.jpg","DataViz3_Images/step17.jpg","DataViz3_Images/step18.jpg","DataViz3_Images/step19.jpg","DataViz3_Images/step2.jpg","DataViz3_Images/step20.jpg","DataViz3_Images/step20_2.jpg","DataViz3_Images/step20_3.jpg","DataViz3_Images/step20_4.jpg","DataViz3_Images/step20_5.jpg","DataViz3_Images/step20_6.jpg","DataViz3_Images/step21.jpg","DataViz3_Images/step22.jpg","DataViz3_Images/step23.jpg","DataViz3_Images/step24.jpg","DataViz3_Images/step25.jpg","DataViz3_Images/step26.jpg","DataViz3_Images/step27.jpg","DataViz3_Images/step28.jpg","DataViz3_Images/step29.jpg","DataViz3_Images/step3.jpg","DataViz3_Images/step30.jpg","DataViz3_Images/step31.jpg","DataViz3_Images/step32.jpg","DataViz3_Images/step33.jpg","DataViz3_Images/step34.jpg","DataViz3_Images/step35.jpg","DataViz3_Images/step36.jpg","DataViz3_Images/step37.jpg","DataViz3_Images/step38.jpg","DataViz3_Images/step39.jpg","DataViz3_Images/step4.jpg","DataViz3_Images/step40.jpg","DataViz3_Images/step41.jpg","DataViz3_Images/step42.jpg","DataViz3_Images/step43.jpg","DataViz3_Images/step44.jpg","DataViz3_Images/step45.jpg","DataViz3_Images/step46.jpg","DataViz3_Images/step47.jpg","DataViz3_Images/step48.jpg","DataViz3_Images/step49.jpg","DataViz3_Images/step5.jpg","DataViz3_Images/step50.jpg","DataViz3_Images/step51.jpg","DataViz3_Images/step52.jpg","DataViz3_Images/step53.jpg","DataViz3_Images/step54.jpg","DataViz3_Images/step55.jpg","DataViz3_Images/step56.jpg","DataViz3_Images/step57.jpg","DataViz3_Images/step58.jpg","DataViz3_Images/step59.jpg","DataViz3_Images/step6.jpg","DataViz3_Images/step60.jpg","DataViz3_Images/step61.jpg","DataViz3_Images/step62.jpg","DataViz3_Images/step63.jpg","DataViz3_Images/step64.jpg","DataViz3_Images/step65.jpg","DataViz3_Images/step66.jpg","DataViz3_Images/step7.jpg","DataViz3_Images/step8.jpg","DataViz3_Images/step9.jpg"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

</style>

<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
            .filter(function(item) { return !!item.description; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description}
                </div>
                <div class="search-item-preview">
                  <img src="${suggestion.preview ? offsetURL(suggestion.preview) : ''}"</img>
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.6/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"DataViz Makeover 3","description":"South East Asia Armed Conflict Anaylsis","authors":[{"author":"Tan Huiyong","authorURL":"https://sg.linkedin.com/in/tan-huiyong-72a1224b","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-03-20T00:00:00.000+08:00","citationText":"Huiyong, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Blog for Data Visualization Module</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../dataviz.html">My DataViz Makeover</a>
<a href="../../vap.html">Visual Analytics Project</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>DataViz Makeover 3</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>South East Asia Armed Conflict Anaylsis</p></p>
</div>

<div class="d-byline">
  Tan Huiyong <a href="https://sg.linkedin.com/in/tan-huiyong-72a1224b" class="uri">https://sg.linkedin.com/in/tan-huiyong-72a1224b</a> 
  
<br/>03-20-2021
</div>

<div class="d-article">
<style>
img {
    max-width: none;

    /* other options:
    max-width: 1200px;
    */
}
</style>
<p><strong>Data Visualisation Link (Tableau Public)</strong> - <a href="https://public.tableau.com/profile/tan.huiyong#!/vizhome/ArmedConflictSEA/ArmConflictSEA?publish=yes" class="uri">https://public.tableau.com/profile/tan.huiyong#!/vizhome/ArmedConflictSEA/ArmConflictSEA?publish=yes</a></p>
<h1 id="top">Contents</h1>
<ol type="a">
<li><a href="#a">Critiques and Suggestions for Current Visualisations</a></li>
<li><a href="#b">Proposed alternative data visualisation</a></li>
<li><a href="#c">Proposed alternative data visualisation</a></li>
<li><a href="#d">Step-by-step description of visualization</a></li>
<li><a href="#e">5 Observations from Final Visualization</a></li>
</ol>
<h1 id="a">a. Critiques and Suggestions for Current Visualisations</h1>
<p><a href="#top"><em>Back to top</em></a> <img src="DataViz3_Images/Critique.jpg" alt="Visualization of Study" /></p>
<h3 id="clarity">Clarity</h3>
<ol type="1">
<li><p>During the data exploration, it was observed that multiple events / event types could have occurred at the same location over time. The visualization of interest uses geospatial dot plot to depict the incidents, but it does not utilize size or tooltip to indicate the number of events or fatalities. The visualization could have been amended such that the number of incidents could be observed based on the size of the dot and/or tooltip.</p></li>
<li><p>The scale of the line charts do not start at zero. This can be misleading when the visualization is used to show the number of incidents. As shown in the image below, it can be visually misleading that the number of Battles is quite low at certain point of time as it is almost at the bottom of the scale. However, this is not the case as the number of battles are around 400 at the bottom of the scale. The scale can be changed such that the bottom of the scale starts from zero.</p></li>
</ol>
<p><img src="DataViz3_Images/Critique_2.jpg" alt="Misleading Scale" /><br />
</p>
<h3 id="aesthetics">Aesthetics</h3>
<ol start="3" type="1">
<li><p>Axis labels, counts of sheet1, are not properly named. This label is not only redundant but also make the visualization aesthetically unpleasant due to the fact the choice of words is inappropriate. The axis label can be removed as it is relatively easy for the user to infer that the y-axis of the line charts refers to the number of incidents that has taken place.</p></li>
<li><p>A single color was applied onto the lines for all event types in the line charts, while the geospatial dot plot utilized colors to differentiate each of the event type. This is a form of inconsistency in the visualization. The line charts could adopt the same color scheme as the geospatial dot plot.</p></li>
<li><p>It was observed that some of the countries like Vietnam does have Battles occurring in some the years. These null values result in broken line charts as shown below. Cosmetic procedures should have been applied to ensure that the line charts are not broken. One of the ways to correct this is to replace the null values with 0.</p></li>
</ol>
<p><img src="DataViz3_Images/Critique_3.jpg" alt="Broken Line Chart" /><br />
</p>
<ol start="6" type="1">
<li>Countries like Laos have low number of incidents of interest and this makes it difficult for user to see the boundary of the countries. The visualization could be improved if the boundary of the countries is clearly shown.</li>
</ol>
<p><img src="DataViz3_Images/Critique_4.jpg" alt="Non-obvoius international boundary" /><br />
</p>
<h3 id="interactivity">Interactivity</h3>
<ol start="7" type="1">
<li><p>The visualization does not provide an easy method to toggle the date level (showing in years, quarter, etc). This impairs user who need to analyze the dates of the incidents. Interactive parameters or buttons could be added to allow easy toggle of the dates.</p></li>
<li><p>Fixed date filter was pre-applied onto the visualization, which limits the period the user could toggle with.</p></li>
<li><p>The visualization has limited interactivity with only toggling of country filter and highlighting plot points of the same event types. More interactivity could be added.</p></li>
</ol>
<h1 id="b">b. Proposed alternative data visualisation</h1>
<p><a href="#top"><em>Back to top</em></a></p>
<figure>
<img src="DataViz3_Images/Alternate1.jpg" alt="Proposed Visualization" /><figcaption aria-hidden="true">Proposed Visualization</figcaption>
</figure>
<h3 id="alternative-design">Alternative design</h3>
<p>The proposed makeover would consist of 3 charts (1 choropleth map overlay geospatial dot plot, 1 stacked line charts with vertical separation and 1 line chart with dynamic date slider and filter), 1 panel of text display showing key summary statistics and 1 sidebar showing the legends and filters.</p>
<h3 id="advantages">Advantages</h3>
<p><strong>Choropleth Map</strong></p>
<ol type="1">
<li><p>The choropleth map would show clear international boundaries of each country within South East Asia and the default map would show the whole region of South East Asia.</p></li>
<li><p>Heat map is applied onto the chart to allow the user to have a gauge of the relative number of incidents occurring amongst the country.</p></li>
<li><p>The incidents provided by the data source are about armed conflicts, which are considered as negative events. Hence, the visualization would be using dark map team to give an atmosphere of dark events occurring in South East Asia.</p></li>
<li><p>The geospatial dot plot would be retained with event types differentiated by colors. The key improvement from the initial visualization is that the size of the dot plots is determined by the number of events within any given time frame.</p></li>
<li><p>Tooltip of the dot plot will show the total fatalities for the incidents taken place at that location.</p></li>
<li><p>Tooltip of the choropleth map will show a cross tab of total fatalities and events of each event type in each country.<br />
</p></li>
</ol>
<p><strong>Stacked Line Charts with vertical separation</strong></p>
<ol type="1">
<li><p>The colors of each line would be consistent to those in the geospatial dot plot. This will show consistencies.</p></li>
<li><p>The tooltip over the line charts would show the brief description of each event types, the counts of incidents and fatalities at that point of time.</p></li>
<li><p>Calculated fields would be used to ensure null values are replaced with 0 to avoid any breakage of the line charts.</p></li>
<li><p>Interactivity is improved with the level of date granularity customizable with either a radio button or drop-down list.</p></li>
<li><p>The scale of the line charts is dynamic, with the bottom scale set at zero.</p></li>
<li><p>The axes labels are removed as it is redundant.<br />
</p></li>
</ol>
<p><strong>Line Chart with Dynamic Date Slider and Filter</strong></p>
<ol type="1">
<li><p>This is a new chart not found in the original visualization. The main purpose of it is to increase the interactivity such that users can scroll on a line chart showing the number of incidents over time.</p></li>
<li><p>Users are also able to toggle the period of interest (date filter).<br />
</p></li>
</ol>
<p><strong>Text Display with Key Summary Statistics</strong></p>
<p>This portion would show the user key figures like total fatalities and the total incidents per event type in any given time-frame. This would provide a clear and concise information with one glance.<br />
</p>
<p><strong>Legends &amp; Filters</strong></p>
<p>The legends and filters are placed to increase the interactivity.</p>
<h1 id="c">c.Proposed alternative data visualisation</h1>
<p><a href="#top"><em>Back to top</em></a></p>
<p><a href="https://public.tableau.com/profile/tan.huiyong#!/vizhome/ArmedConflictSEA/ArmConflictSEA">Link to Tableau Public</a></p>
<p><br />
<br />
</p>
<h1 id="d">d.Step-by-step description of visualization</h1>
<p><a href="#top"><em>Back to top</em></a></p>
<h2 id="data-cleaning-and-exploration">Data Cleaning and exploration</h2>
<p>Prior to visualization, the data in Ms Excel format was studied extensively and was referenced against the data code book provided by <a href="https://acleddata.com/acleddatanew/wp-content/uploads/dlm_uploads/2019/01/ACLED_Codebook_2019FINAL.docx.pdf">ACLED</a>. The data dictionary extracted from the codebook is listed below for easy reference.</p>
<p><img src="DataViz3_Images/step1_a.jpg" /></p>
<figure>
<img src="DataViz3_Images/step1_b.jpg" alt="Codebook extract from ACLED" /><figcaption aria-hidden="true">Codebook extract from ACLED</figcaption>
</figure>
<p>The data was imported into tableau and it was observed that Tableau had inserted the wrong metadata type for some the fields. Therefore, the metadata of the fields are changed based on the nature of the data.</p>
<figure>
<img src="DataViz3_Images/step2.jpg" style="width:80.0%" alt="Changes on Metadata" /><figcaption aria-hidden="true">Changes on Metadata</figcaption>
</figure>
<p>Next, fields that are of no interest in the visualization will be hidden for neater working environment.</p>
<p><img src="DataViz3_Images/step3.jpg" style="width:50.0%" alt="Hiding of Fields" /><br />
</p>
<h3 id="line-chart-with-dynamic-date-slider-and-filter">Line Chart with Dynamic Date Slider and Filter</h3>
<p>Open a new worksheet. The line chart would first be plotted.[Event Date] and [sheet1(count)] are placed onto the Columns and Rows respectively to generate the line chart.</p>
<p>The [Event Date] is converted into Continuous and toggled to monthly level. This would result in a line chart that depicts values at monthly level.</p>
<figure>
<img src="DataViz3_Images/step4.jpg" alt="Line chart created initially" /><figcaption aria-hidden="true">Line chart created initially</figcaption>
</figure>
<p>The horizontal axis of the chart is fixed based on the min/max date so that the axis would not be truncated by any date filter.</p>
<figure>
<img src="DataViz3_Images/step5.jpg" style="width:80.0%" alt="Fixing of horizontal axis" /><figcaption aria-hidden="true">Fixing of horizontal axis</figcaption>
</figure>
<p>To turn it into a slider, a parameter and some calculated fields had to be included.</p>
<p>The parameter, [Date Slider], would determine the period of interest and it would be a date data type taking date values from [Event Date].</p>
<figure>
<img src="DataViz3_Images/step6.jpg" alt="Creating parameter for date slider" /><figcaption aria-hidden="true">Creating parameter for date slider</figcaption>
</figure>
<p>Next, another parameter [Zoom to (months)] would be made. This would allow user to select a predetermined length of period (months, years level) for neater analysis. The settings are shown below.</p>
<p><img src="DataViz3_Images/step7.jpg" style="width:80.0%" alt="Creating parameter to toggle period of interest" /> 2 calculated fields are made and they would determine the lower and upper bound off the period of interest.</p>
<figure>
<img src="DataViz3_Images/step8.jpg" alt="Formulae for lower and upper bound" /><figcaption aria-hidden="true">Formulae for lower and upper bound</figcaption>
</figure>
<p>It is important to convert the 2 calculated fields to continuous.</p>
<figure>
<img src="DataViz3_Images/step9.jpg" style="width:70.0%" alt="Converting to continuous" /><figcaption aria-hidden="true">Converting to continuous</figcaption>
</figure>
<p>Drag [Lower zoom date] and [Upper zoom date] into details of Marks and toggle to month level.</p>
<figure>
<img src="DataViz3_Images/step10.jpg" style="width:50.0%" alt="Setting to monthly level" /><figcaption aria-hidden="true">Setting to monthly level</figcaption>
</figure>
<p>With the required fields ready, the window of the period of interest could be displayed on the line graph by inserting 2 vertical reference lines.</p>
<figure>
<img src="DataViz3_Images/step11.jpg" style="width:50.0%" alt="Adding reference line to the x-axis" /><figcaption aria-hidden="true">Adding reference line to the x-axis</figcaption>
</figure>
<p>The first reference line would be the lower bound and it would take the form of a band to allow shading of the area in the line chart to differentiate the area of interest from the one that is not. The setting can be found in the screenshot below.</p>
<figure>
<img src="DataViz3_Images/step12.jpg" style="width:70.0%" alt="Setting of lower bound reference line" /><figcaption aria-hidden="true">Setting of lower bound reference line</figcaption>
</figure>
<p>The second reference line would be the upper bound. Similarly, it would take the form of a band, with a slightly different setting to toggle the shading accordingly. The setting can be found in the screenshot below.</p>
<p><img src="DataViz3_Images/step13.jpg" style="width:70.0%" alt="Setting of upper bound reference line" /> The result of the slider worksheet is a line chart with dynamic band which has adjustable width and the band can be shifted by selection of of date of interest.</p>
<figure>
<img src="DataViz3_Images/step14.jpg" alt="Slider worksheet" /><figcaption aria-hidden="true">Slider worksheet</figcaption>
</figure>
<p>The aesthetics of the chart would be touched up later when we build the dashboard as the color scheme and style must be consistent.<br />
</p>
<h3 id="stacked-line-charts-with-vertical-separation">Stacked Line Charts with vertical separation</h3>
<p>A new worksheet is opened and a simple stacked line charts with vertical separation is constructed. This was done by placing [Event Date] into columns while [Event Type] and [sheet1(count)] are placed into rows. The [Event Type] is also placed into Color of the Marks to provide each event type a unique color.</p>
<figure>
<img src="DataViz3_Images/step15.jpg" alt="Simple Stacked Line Charts with vertical separation" /><figcaption aria-hidden="true">Simple Stacked Line Charts with vertical separation</figcaption>
</figure>
<p>The vertical axis label is removed, and the range is set to be independent range for each row, and it would include zero values.</p>
<figure>
<img src="DataViz3_Images/step16.jpg" style="width:70.0%" alt="Setting y-axis to be independent of rows and include zero" /><figcaption aria-hidden="true">Setting y-axis to be independent of rows and include zero</figcaption>
</figure>
<p>The changes would result in a cleaner look of the chart.</p>
<figure>
<img src="DataViz3_Images/step17.jpg" alt="Cleaner Stacked Line Charts with vertical separation" /><figcaption aria-hidden="true">Cleaner Stacked Line Charts with vertical separation</figcaption>
</figure>
<p>To make the visualization more dynamic and interactive, the tick marks horizontal axis must become more dynamic. This can be achieved by using parameter and calculated fields.</p>
<p>The parameter would provide a list of date level for user to toggle, ranging from day to year level.</p>
<figure>
<img src="DataViz3_Images/step18.jpg" style="width:70.0%" alt="Paramter setting to toggle date granularity" /><figcaption aria-hidden="true">Paramter setting to toggle date granularity</figcaption>
</figure>
<p>The following calculated field, [Event Date Dynamic] is inserted to utilize the parameter to toggle the date granularity. [Event Date Dynamic] is then set as continuous date at exact date level.</p>
<figure>
<img src="DataViz3_Images/step19.jpg" alt="Calculated field for Event Date Dynamic" /><figcaption aria-hidden="true">Calculated field for Event Date Dynamic</figcaption>
</figure>
<figure>
<img src="DataViz3_Images/step20.jpg" style="width:50.0%" alt="Setting field to be continuous exact date" /><figcaption aria-hidden="true">Setting field to be continuous exact date</figcaption>
</figure>
<p>[Event Date (ref)] was added to the filter and it is filtered by conditions to show the date of interest as toggled by user.</p>
<figure>
<img src="DataViz3_Images/step21.jpg" style="width:70.0%" alt="Filter seetting for event date" /><figcaption aria-hidden="true">Filter seetting for event date</figcaption>
</figure>
<p>It was observed that some configuration would result in broken line charts due to null values and missing data.</p>
<figure>
<img src="DataViz3_Images/step20_2.jpg" style="width:100.0%" alt="Broken line chart observed" /><figcaption aria-hidden="true">Broken line chart observed</figcaption>
</figure>
<figure>
<img src="DataViz3_Images/step20_3.jpg" style="width:50.0%" alt="Data with missing dates" /><figcaption aria-hidden="true">Data with missing dates</figcaption>
</figure>
<p>As such, an additional reference table, Ref_Table_Date_Event_Type, consisting of date ranging from the minimum and maximum of [Event Date] and all [Event Type] is made.</p>
<p>A right join to the reference table is made on both [Event Date] and [Event Type]. This would ensure that each event date for each event type would occur.</p>
<figure>
<img src="DataViz3_Images/step20_4.jpg" style="width:100.0%" alt="Joining of data with reference table" /><figcaption aria-hidden="true">Joining of data with reference table</figcaption>
</figure>
<p>An additional calculated field is required to count the occurrence of events accurately.</p>
<p>The calculated field has the following settings and it would replace [sheet1(count)] in the Rows.</p>
<figure>
<img src="DataViz3_Images/step20_5.jpg" style="width:90.0%" alt="Formula for Count" /><figcaption aria-hidden="true">Formula for Count</figcaption>
</figure>
<p>The calculated fields from earlier had to be edited to replace [Event Date] with [Event Date (ref)].</p>
<figure>
<img src="DataViz3_Images/step20_6.jpg" style="width:90.0%" alt="Formula for Event Date Dynamic" /><figcaption aria-hidden="true">Formula for Event Date Dynamic</figcaption>
</figure>
<p>The date filter had to change to [Event Date (ref)] as well to ensure consistency</p>
<figure>
<img src="DataViz3_Images/step22.jpg" style="width:70.0%" alt="Filter seetting for event date (ref)" /><figcaption aria-hidden="true">Filter seetting for event date (ref)</figcaption>
</figure>
<p>The amendment would result in complete line charts for all configurations</p>
<figure>
<img src="DataViz3_Images/step23.jpg" alt="Broken line charts fixed" /><figcaption aria-hidden="true">Broken line charts fixed</figcaption>
</figure>
<p>A reference table that indicates the definition of each event type is created with reference to the ACLED codebook. This reference table would be brought into the tooltip such that the data tooltip would include the definition of the event type.</p>
<figure>
<img src="DataViz3_Images/step24.jpg" alt="Event type &amp; its decription" /><figcaption aria-hidden="true">Event type &amp; its decription</figcaption>
</figure>
<p>This table would be joined to the main data source based on the following conditions.</p>
<figure>
<img src="DataViz3_Images/step25.jpg" style="width:90.0%" alt="Event type &amp; its decription" /><figcaption aria-hidden="true">Event type &amp; its decription</figcaption>
</figure>
<p>Both [Event Description] and [General] were placed into the tooltip of the line chart and the tooltip settings is configured.</p>
<figure>
<img src="DataViz3_Images/step26.jpg" style="width:80.0%" alt="Tooltip of the line chart amended" /><figcaption aria-hidden="true">Tooltip of the line chart amended</figcaption>
</figure>
<p><img src="DataViz3_Images/step27.jpg" style="width:70.0%" alt="Sample preview ofthe tooltip" /><br />
</p>
<h3 id="choropleth-map">Choropleth Map</h3>
<p>A new sheet is created.The [Longitude (generated) and [Latitude (generated)] are placed into Columns and Rows respectively. [Country] was placed into the Details of the Marks and Map was selected as the type of chart displayed. A choropleth map of South East Asia will appear as shown.</p>
<figure>
<img src="DataViz3_Images/step28.jpg" style="width:100.0%" alt="Choropleth map" /><figcaption aria-hidden="true">Choropleth map</figcaption>
</figure>
<p>Due to the joining of the original data with the date/event type reference table, 1 unknown (null value) would appear. This indicator will be kept for now. It is of interest to create a dot plot on the map, hence, another instance of [Latitude (generated)] was placed onto Rows. However, this time, circle mark was selected instead. This would result in another map being generated showing dots on the countries of interest.</p>
<figure>
<img src="DataViz3_Images/step29.jpg" style="width:100.0%" alt="Choropleth map and dot plot" /><figcaption aria-hidden="true">Choropleth map and dot plot</figcaption>
</figure>
<p>[Latitude] and [Longitude] were placed into Details of the Marks. They are both converted to Dimension to generate the dot plot based on the exact locations of events that took place.</p>
<figure>
<img src="DataViz3_Images/step30.jpg" style="width:100.0%" alt="Populating dot plot by coordinate positions" /><figcaption aria-hidden="true">Populating dot plot by coordinate positions</figcaption>
</figure>
<p>The purpose of the choropleth map is not only to show the clear boundaries of countries, but also show the relative number of events using heat map. Hence, [Count] was placed onto the color of the mark. On the other hand, the dot plot would be showing the different types of events that took place, so [Event type] was placed into the Color while the size is toggled to be smaller so that it is more appealing to the eyes.</p>
<figure>
<img src="DataViz3_Images/step31.jpg" style="width:100.0%" alt="Result of setting color by event type" /><figcaption aria-hidden="true">Result of setting color by event type</figcaption>
</figure>
<p>The two charts are combined by selecting Dual Axis in the rows option.</p>
<figure>
<img src="DataViz3_Images/step32.jpg" style="width:100.0%" alt="Setting of dual axis to combine the 2 plots" /><figcaption aria-hidden="true">Setting of dual axis to combine the 2 plots</figcaption>
</figure>
<figure>
<img src="DataViz3_Images/step33.jpg" style="width:100.0%" alt="Result of dual axis" /><figcaption aria-hidden="true">Result of dual axis</figcaption>
</figure>
<p>[Count] is placed into the size of the dot plot so that locations that had more events would look bigger.</p>
<figure>
<img src="DataViz3_Images/step34.jpg" style="width:100.0%" alt="Setting the size based on counts" /><figcaption aria-hidden="true">Setting the size based on counts</figcaption>
</figure>
<p>The theme of the map was changed to Dark and the colors of both choropleth and the dot plots are changed accordingly. Null was also hidden in the legends. [Fatalities] was then placed into the tooltip.</p>
<figure>
<img src="DataViz3_Images/step35.jpg" style="width:100.0%" alt="Changing the map theme to Dark" /><figcaption aria-hidden="true">Changing the map theme to Dark</figcaption>
</figure>
<p>[Country] was added to the Filters card. The filter was tested by selecting Laos in the [Country] filter list. The filter will result in the map zooming onto Laos. Unfortunately, the color of the country had changed from pale orange to deep red as the color blend changed dynamically according to the filter.</p>
<figure>
<img src="DataViz3_Images/step36.jpg" style="width:100.0%" alt="Issue of color chaning due to filter" /><figcaption aria-hidden="true">Issue of color chaning due to filter</figcaption>
</figure>
<p>As such, the color blend had to be fixed at the start and end such that the filter of country would not result in changing in color.</p>
<figure>
<img src="DataViz3_Images/step37.jpg" style="width:70.0%" alt="Setting fixed color based on counts" /><figcaption aria-hidden="true">Setting fixed color based on counts</figcaption>
</figure>
<figure>
<img src="DataViz3_Images/step38.jpg" style="width:100.0%" alt="The color is solved" /><figcaption aria-hidden="true">The color is solved</figcaption>
</figure>
<p>Same [Event Date (ref)] filter will be applied to this worksheet so that the visualization would change accordingly based on the selection in the Slider.</p>
<figure>
<img src="DataViz3_Images/step39.jpg" style="width:70.0%" alt="Filter setting on Event Date (Ref)" /><figcaption aria-hidden="true">Filter setting on Event Date (Ref)</figcaption>
</figure>
<p>Further interactivity will be created at dashboard level.</p>
<p>[Lower zoom date] and [Upper zoom date] are both added to the Details in the Marks such that the title of the chart could reflect according to the period of interest.</p>
<figure>
<img src="DataViz3_Images/step40.jpg" style="width:40.0%" alt="Adding the the zoom period into the card" /><figcaption aria-hidden="true">Adding the the zoom period into the card</figcaption>
</figure>
<p>[Country] is added to label to allow clearer indication of the countries shown on the map.</p>
<figure>
<img src="DataViz3_Images/step41.jpg" style="width:100.0%" alt="Worksheet after the changes" /><figcaption aria-hidden="true">Worksheet after the changes</figcaption>
</figure>
<p>A worksheet <Tool Tip>, consisting of cross tab information on the number of events and fatalities for each event type is created. This worksheet would be used as the tooltip for the choropleth map so that user would be able to see more details of events and fatalities when they hover the countries of interest.</p>
<figure>
<img src="DataViz3_Images/step42.jpg" style="width:90.0%" alt="Worksheet that serves as tooltip for choropleth map" /><figcaption aria-hidden="true">Worksheet that serves as tooltip for choropleth map</figcaption>
</figure>
<p>Thereafter, the Tooltip of the map worksheet is configured as below.</p>
<figure>
<img src="DataViz3_Images/step43.jpg" style="width:80.0%" alt="Tooltip settings for choropleth map" /><figcaption aria-hidden="true">Tooltip settings for choropleth map</figcaption>
</figure>
<p>One example can be seen below.</p>
<figure>
<img src="DataViz3_Images/step44.jpg" style="width:70.0%" alt="Tooltip result for choropleth map" /><figcaption aria-hidden="true">Tooltip result for choropleth map</figcaption>
</figure>
<h3 id="textbox">Textbox</h3>
<p>3 additional worksheets [Text Box], [Text Box 2] and [Text Box 3] will be built to show the summary figures of total events, total fatalities, and fatality rate. A calculated field had to be created to show fatality rate.</p>
<figure>
<img src="DataViz3_Images/step46.jpg" style="width:100.0%" alt="Setting for Fatalities text box" /><figcaption aria-hidden="true">Setting for Fatalities text box</figcaption>
</figure>
<figure>
<img src="DataViz3_Images/step47.jpg" style="width:100.0%" alt="Setting for No.of events text box" /><figcaption aria-hidden="true">Setting for No.of events text box</figcaption>
</figure>
<figure>
<img src="DataViz3_Images/step48.jpg" style="width:100.0%" alt="Setting for Fatality rate text box" /><figcaption aria-hidden="true">Setting for Fatality rate text box</figcaption>
</figure>
<figure>
<img src="DataViz3_Images/step45.jpg" style="width:100.0%" alt="Calculatedfiledto calculate fatality rate" /><figcaption aria-hidden="true">Calculatedfiledto calculate fatality rate</figcaption>
</figure>
<h2 id="dashboard">Dashboard</h2>
<p>A new dashboard, Arm Conflict SEA, is created. The size is set as Automatic.</p>
<figure>
<img src="DataViz3_Images/step49.jpg" style="width:50.0%" alt="Setting of the dashboard" /><figcaption aria-hidden="true">Setting of the dashboard</figcaption>
</figure>
<p>Map, Date Slider and the stacked line chart worksheets are dragged into the canvas in the following arrangement.</p>
<figure>
<img src="DataViz3_Images/step50.jpg" style="width:100.0%" alt="Initial look of the dashboard after placing the 3 worksheets" /><figcaption aria-hidden="true">Initial look of the dashboard after placing the 3 worksheets</figcaption>
</figure>
<p>The title and readout of Slider is removed, and the slider filter is place below the Slider worksheet. The tile and axes labels Slider are removed and a text box Monthly Event Counts is placed on the left of the slider to display the axis in horizontal orientation.</p>
<figure>
<img src="DataViz3_Images/step51.jpg" style="width:100.0%" alt="Cosmetic amendments on the date slider" /><figcaption aria-hidden="true">Cosmetic amendments on the date slider</figcaption>
</figure>
<p>Next the color theme of the dashboard is then set according to the theme used in the Map worksheet. The side panel would be arranged.</p>
<figure>
<img src="DataViz3_Images/step52.jpg" style="width:100.0%" alt="Color theme changed accordingly" /><figcaption aria-hidden="true">Color theme changed accordingly</figcaption>
</figure>
<p>Unknown indicators due to joining of reference table would be hidden.</p>
<figure>
<img src="DataViz3_Images/step53.jpg" style="width:40.0%" alt="Hiding unknown indicator caused by joining reference table" /><figcaption aria-hidden="true">Hiding unknown indicator caused by joining reference table</figcaption>
</figure>
<p>It is noted that the filter panel for country will have null value. This must be removed by using parameter as filter.</p>
<figure>
<img src="DataViz3_Images/step54.jpg" style="width:30.0%" alt="NULL option appearing in filter" /><figcaption aria-hidden="true">NULL option appearing in filter</figcaption>
</figure>
<p>A new parameter is created with setting shown below.</p>
<figure>
<img src="DataViz3_Images/step55.jpg" style="width:80.0%" alt="Setting of parameter to replace country filter" /><figcaption aria-hidden="true">Setting of parameter to replace country filter</figcaption>
</figure>
<p>The country filter would then be based on the following condition which would filter the country selected in the parameter. If All is selected, it will trigger TRUE for all conditions, hence displaying all countries.</p>
<figure>
<img src="DataViz3_Images/step56.jpg" style="width:70.0%" alt="The filter setting of country is changed" /><figcaption aria-hidden="true">The filter setting of country is changed</figcaption>
</figure>
<p>A dynamic vertical reference line is added to line chart such that use could select any date on the line chart and the reference line will move to it. This is first done by constructing a date parameter with the following setting.</p>
<figure>
<img src="DataViz3_Images/step57.jpg" style="width:70.0%" alt="Paremter for dynamic vertical reference line" /><figcaption aria-hidden="true">Paremter for dynamic vertical reference line</figcaption>
</figure>
<p>Next a reference line is created on the line chart.</p>
<figure>
<img src="DataViz3_Images/step58.jpg" style="width:70.0%" alt="Reference line settings" /><figcaption aria-hidden="true">Reference line settings</figcaption>
</figure>
<p>To make the reference line dynamic, a Change Parameter action is created. This action would point to the dashboard and allow the Ref Line Dynamic parameter to change based on the date selection on the line chart.</p>
<figure>
<img src="DataViz3_Images/step59.jpg" style="width:70.0%" alt="Setting Change Paramters action" /><figcaption aria-hidden="true">Setting Change Paramters action</figcaption>
</figure>
<p>The resulting reference line would be dynamic and could shift as user click on different parts of the line chart.</p>
<figure>
<img src="DataViz3_Images/step60.jpg" style="width:100.0%" alt="Mving reference line" /><figcaption aria-hidden="true">Mving reference line</figcaption>
</figure>
<p>Now, the dashboard is equipped with more interactivity</p>
<figure>
<img src="DataViz3_Images/step61.jpg" style="width:100.0%" alt="Dashboard after interactivity added" /><figcaption aria-hidden="true">Dashboard after interactivity added</figcaption>
</figure>
<p>It is noted that the title of the visualization is taken from Map worksheet. To make the title on the top center of the dashboard, the title must be made as a separate worksheet to retain its dynamic words that change according to users selection during the interaction. The purpose of this worksheet is to obtain the title and its content is not important. Hence, a dummy field had to be created to show blank values in the worksheet.</p>
<figure>
<img src="DataViz3_Images/step62.jpg" style="width:100.0%" alt="Dummy field for title worksheet" /><figcaption aria-hidden="true">Dummy field for title worksheet</figcaption>
</figure>
<p>The setting of the worksheet is as shown.</p>
<figure>
<img src="DataViz3_Images/step63.jpg" style="width:80.0%" alt="Setting of the title worksheet" /><figcaption aria-hidden="true">Setting of the title worksheet</figcaption>
</figure>
<figure>
<img src="DataViz3_Images/step64.jpg" style="width:70.0%" alt="The title" /><figcaption aria-hidden="true">The title</figcaption>
</figure>
<p>This Title worksheet is then placed at the top center of the dashboard and the original title of Map is hidden away.</p>
<p>Next, the stacked line chart is given another change.a Dual axis with synchronized axis is created with [sum(fatalities)]. The fatalities is show in area chart with light color tone than that of the event</p>
<figure>
<img src="DataViz3_Images/step65.jpg" style="width:90.0%" alt="Settings to insert are graph to show fatalities" /><figcaption aria-hidden="true">Settings to insert are graph to show fatalities</figcaption>
</figure>
<p>With all of the changes made, the final dashboard is completed.</p>
<figure>
<img src="DataViz3_Images/step66.jpg" style="width:100.0%" alt="Final Dashboard" /><figcaption aria-hidden="true">Final Dashboard</figcaption>
</figure>
<h1 id="e">e. 5 Observations from Final Visualization</h1>
<p><a href="#top"><em>Back to top</em></a></p>
<h3 id="deadliest-year">Deadliest Year</h3>
<figure>
<img src="DataViz3_Images/ob1.jpg" style="width:100.0%" alt="Deadliest year" /><figcaption aria-hidden="true">Deadliest year</figcaption>
</figure>
<p>The deadliest year occurred in 2017 with 5,496 fatalities recorded. This is mainly due to 2 separate events occurring in Myanmar and Philippines. In Aug 2017, the Myanmar government began crackdown on Rohingya population in retaliation to the attacks carried out by Rohingya insurgents (<a href="https://www.nationalgeographic.com/culture/article/rohingya-refugee-crisis-myanmar-burma-spd">National Geographic</a>). Meanwhile, Philippines experienced one of the deadliest crisis when parts of the Marawi city was occupied by extremist militants and the governmental troops retook it after a 5 month long seige (<a href="https://www.aljazeera.com/features/2017/10/29/what-happened-in-marawi">Aljazeera</a>).</p>
<h3 id="lowest-fatality-from-2015--2020---vietnam">Lowest Fatality from 2015- 2020 - Vietnam</h3>
<figure>
<img src="DataViz3_Images/ob2.jpg" style="width:100.0%" alt="Vietnam" /><figcaption aria-hidden="true">Vietnam</figcaption>
</figure>
<p>Vietnam recorded the lowest number of fatality and fatality rate among the countries listed in the visualization. From the perspective of the ACLED, Vietnam might be one of the safest country among the countries listed in the visualization.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
